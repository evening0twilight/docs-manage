# äº‘æœåŠ¡å•†è¿ç§»æŒ‡å—

## ğŸš€ è¿ç§»ä¼˜åŠ¿

### ä¸ºä»€ä¹ˆé€‰æ‹©å›½å†…äº‘æœåŠ¡å•†ï¼Ÿ
1. **ç½‘ç»œé€Ÿåº¦**ï¼šå›½å†…è®¿é—®æ›´å¿«ï¼Œå»¶è¿Ÿæ›´ä½
2. **ä»·æ ¼ä¼˜åŠ¿**ï¼šå­¦ç”Ÿä¼˜æƒ ï¼Œæ–°ç”¨æˆ·æŠ˜æ‰£
3. **æœ¬åœŸåŒ–æœåŠ¡**ï¼šä¸­æ–‡æ”¯æŒï¼Œé“¶è”ä»˜æ¬¾
4. **åˆè§„æ€§**ï¼šç¬¦åˆå›½å†…æ³•è§„è¦æ±‚

## ğŸ“‹ è¿ç§»å¯¹æ¯”è¡¨

| äº‘æœåŠ¡å•† | æœ€ä½é…ç½®ä»·æ ¼ | å­¦ç”Ÿä¼˜æƒ  | ç½‘ç»œä¼˜åŠ¿ | Docker æ”¯æŒ |
|----------|-------------|----------|----------|-------------|
| **é˜¿é‡Œäº‘ ECS** | Â¥99/æœˆ | Â¥9.5/æœˆ | å›½å†…æœ€ä¼˜ | âœ… åŸç”Ÿæ”¯æŒ |
| **è…¾è®¯äº‘ CVM** | Â¥95/æœˆ | Â¥10/æœˆ | æ¸¸æˆåŠ é€Ÿ | âœ… åŸç”Ÿæ”¯æŒ |
| **åä¸ºäº‘ ECS** | Â¥102/æœˆ | Â¥9/æœˆ | ä¼ä¸šçº§ | âœ… åŸç”Ÿæ”¯æŒ |
| **DigitalOcean** | $12/æœˆ(Â¥85) | æ— å­¦ç”Ÿä¼˜æƒ  | å›½å¤–èŠ‚ç‚¹ | âœ… åŸç”Ÿæ”¯æŒ |

## ğŸ”§ è¿ç§»æ­¥éª¤ï¼ˆè¶…ç®€å•ï¼ï¼‰

### æ­¥éª¤ 1ï¼šè´­ä¹°æ–°çš„äº‘æœåŠ¡å™¨
```bash
# æ¨èé…ç½®ï¼ˆæ‰€æœ‰äº‘æœåŠ¡å•†é€šç”¨ï¼‰
CPU: 2æ ¸
å†…å­˜: 4GB
ç¡¬ç›˜: 40GB SSD
æ“ä½œç³»ç»Ÿ: Ubuntu 22.04 LTS
å¸¦å®½: 3-5Mbps
```

### æ­¥éª¤ 2ï¼šé…ç½®æœåŠ¡å™¨ï¼ˆä¸€é”®è„šæœ¬ï¼‰
```bash
# SSH è¿æ¥åˆ°æ–°æœåŠ¡å™¨
ssh root@æ–°æœåŠ¡å™¨IP

# è¿è¡Œä¸€é”®é…ç½®è„šæœ¬
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# å®‰è£… Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# åˆ›å»ºéƒ¨ç½²ç›®å½•
mkdir -p /home/deploy
cd /home/deploy
```

### æ­¥éª¤ 3ï¼šéƒ¨ç½²åº”ç”¨ï¼ˆå®Œå…¨ç›¸åŒçš„å‘½ä»¤ï¼‰
```bash
# å…‹éš†é¡¹ç›®ï¼ˆä¸ DigitalOcean å®Œå…¨ä¸€æ ·ï¼‰
git clone https://github.com/evening0twilight/docs-manage.git
cd docs-manage

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆä¸ DigitalOcean å®Œå…¨ä¸€æ ·ï¼‰
cp .env.production .env
nano .env  # ä¿®æ”¹æ•°æ®åº“å¯†ç å’ŒJWTå¯†é’¥

# å¯åŠ¨åº”ç”¨ï¼ˆä¸ DigitalOcean å®Œå…¨ä¸€æ ·ï¼‰
docker-compose up --build -d
```

### æ­¥éª¤ 4ï¼šæ›´æ–°å‰ç«¯é…ç½®
```javascript
// åªéœ€è¦æ”¹ä¸€ä¸ªIPåœ°å€ï¼
// åŸæ¥ï¼š
const API_BASE_URL = 'http://digitalocean-ip/api';

// æ”¹ä¸ºï¼š
const API_BASE_URL = 'http://æ–°äº‘æœåŠ¡å™¨IP/api';
```

## ğŸ¤– è‡ªåŠ¨éƒ¨ç½²é…ç½®

### GitHub Secrets é…ç½®

åœ¨ GitHub ä»“åº“çš„ Settings â†’ Secrets and variables â†’ Actions ä¸­æ·»åŠ ï¼š

#### é˜¿é‡Œäº‘é…ç½®
```
ALIYUN_HOST=ä½ çš„é˜¿é‡Œäº‘æœåŠ¡å™¨IP
ALIYUN_USER=root
ALIYUN_SSH_KEY=ä½ çš„SSHç§é’¥å†…å®¹
ALIYUN_PORT=22
```

#### è…¾è®¯äº‘é…ç½®
```
TENCENT_HOST=ä½ çš„è…¾è®¯äº‘æœåŠ¡å™¨IP
TENCENT_USER=root
TENCENT_SSH_KEY=ä½ çš„SSHç§é’¥å†…å®¹
TENCENT_PORT=22
```

### è‡ªåŠ¨éƒ¨ç½²æµç¨‹
1. **æ¨é€ä»£ç ** â†’ GitHub
2. **è‡ªåŠ¨è§¦å‘** â†’ GitHub Actions
3. **è‡ªåŠ¨æ„å»º** â†’ Docker é•œåƒ
4. **è‡ªåŠ¨éƒ¨ç½²** â†’ äº‘æœåŠ¡å™¨
5. **é›¶åœæœº** â†’ æ»šåŠ¨æ›´æ–°

## ğŸ“± å…·ä½“äº‘æœåŠ¡å•†è´­ä¹°æŒ‡å—

### é˜¿é‡Œäº‘ ECS
1. è®¿é—®ï¼šhttps://ecs.console.aliyun.com/
2. é€‰æ‹©ï¼šæŒ‰é‡ä»˜è´¹ æˆ– åŒ…å¹´åŒ…æœˆ
3. åœ°åŸŸï¼šåä¸œ1ï¼ˆæ­å·ï¼‰æˆ– ååŒ—2ï¼ˆåŒ—äº¬ï¼‰
4. å®ä¾‹è§„æ ¼ï¼šecs.t5-lc1m2.smallï¼ˆ2æ ¸4GBï¼‰
5. é•œåƒï¼šUbuntu 22.04 64ä½
6. å®‰å…¨ç»„ï¼šå¼€æ”¾ 22ã€80ã€443ã€3000 ç«¯å£

### è…¾è®¯äº‘ CVM
1. è®¿é—®ï¼šhttps://console.cloud.tencent.com/cvm
2. é€‰æ‹©ï¼šæŒ‰é‡è®¡è´¹ æˆ– åŒ…å¹´åŒ…æœˆ
3. åœ°åŸŸï¼šåŒ—äº¬ æˆ– ä¸Šæµ·
4. å®ä¾‹ç±»å‹ï¼šæ ‡å‡†å‹S5ï¼ˆ2æ ¸4GBï¼‰
5. é•œåƒï¼šUbuntu Server 22.04 LTS 64ä½
6. å®‰å…¨ç»„ï¼šå…è®¸ SSHã€HTTPã€HTTPS

### åä¸ºäº‘ ECS
1. è®¿é—®ï¼šhttps://console.huaweicloud.com/ecm/
2. é€‰æ‹©ï¼šæŒ‰éœ€è®¡è´¹ æˆ– åŒ…å¹´/åŒ…æœˆ
3. åœ°åŸŸï¼šååŒ—-åŒ—äº¬å›› æˆ– åä¸œ-ä¸Šæµ·ä¸€
4. è§„æ ¼ï¼šs6.large.2ï¼ˆ2æ ¸4GBï¼‰
5. é•œåƒï¼šUbuntu 22.04 server 64bit
6. å®‰å…¨ç»„ï¼šå¼€æ”¾å¿…è¦ç«¯å£

## âš¡ è¿ç§»æ—¶é—´ä¼°ç®—

| è¿ç§»æ­¥éª¤ | é¢„è®¡è€—æ—¶ | éš¾åº¦ |
|----------|----------|------|
| è´­ä¹°äº‘æœåŠ¡å™¨ | 5åˆ†é’Ÿ | â­ |
| é…ç½®æœåŠ¡å™¨ç¯å¢ƒ | 10åˆ†é’Ÿ | â­â­ |
| éƒ¨ç½²åº”ç”¨ | 5åˆ†é’Ÿ | â­ |
| é…ç½®è‡ªåŠ¨éƒ¨ç½² | 15åˆ†é’Ÿ | â­â­â­ |
| æµ‹è¯•éªŒè¯ | 10åˆ†é’Ÿ | â­â­ |
| **æ€»è®¡** | **45åˆ†é’Ÿ** | **ç®€å•** |

## ğŸ”’ æ•°æ®è¿ç§»ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœä½ å·²ç»åœ¨ DigitalOcean ä¸Šæœ‰ç”¨æˆ·æ•°æ®ï¼š

```bash
# åœ¨æ—§æœåŠ¡å™¨ä¸Šå¤‡ä»½æ•°æ®åº“
docker exec docs-mysql mysqldump -u root -p docs_manage > backup.sql

# å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨
scp backup.sql root@æ–°æœåŠ¡å™¨IP:/home/deploy/

# åœ¨æ–°æœåŠ¡å™¨ä¸Šæ¢å¤æ•°æ®
docker exec -i docs-mysql mysql -u root -p docs_manage < backup.sql
```

## ğŸ¯ æœ€ä½³å®è·µå»ºè®®

### 1. å¤šç¯å¢ƒéƒ¨ç½²ç­–ç•¥
- **å¼€å‘ç¯å¢ƒ**ï¼šDigitalOceanï¼ˆæµ‹è¯•ç”¨ï¼‰
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šé˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼ˆæ­£å¼ç”¨ï¼‰

### 2. æˆæœ¬ä¼˜åŒ–
- **å­¦ç”Ÿè®¤è¯**ï¼šäº«å—è¶…ä½ä»·æ ¼
- **æŒ‰é‡ä»˜è´¹**ï¼šå¼€å‘é˜¶æ®µä½¿ç”¨
- **åŒ…å¹´ä»˜è´¹**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨

### 3. ç›‘æ§å’Œå¤‡ä»½
- è®¾ç½®äº‘ç›‘æ§å‘Šè­¦
- å®šæœŸè‡ªåŠ¨å¤‡ä»½æ•°æ®åº“
- é…ç½®æ—¥å¿—æ”¶é›†

## ğŸ†˜ è¿ç§»æ”¯æŒ

è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Ÿ
1. **é…ç½®é—®é¢˜**ï¼šæ£€æŸ¥ `.env` æ–‡ä»¶
2. **ç½‘ç»œé—®é¢˜**ï¼šæ£€æŸ¥å®‰å…¨ç»„è®¾ç½®
3. **éƒ¨ç½²é—®é¢˜**ï¼šæŸ¥çœ‹ `docker-compose logs`
4. **è‡ªåŠ¨éƒ¨ç½²é—®é¢˜**ï¼šæ£€æŸ¥ GitHub Secrets é…ç½®

æ€»çš„æ¥è¯´ï¼Œè¿ç§»å°±æ˜¯æ¢ä¸ªIPåœ°å€çš„äº‹æƒ…ï¼ ğŸ‰